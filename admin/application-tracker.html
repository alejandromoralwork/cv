<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Application Tracker</title>
    <link rel="stylesheet" href="https://unpkg.com/tabulator-tables@5.5.0/dist/css/tabulator.min.css">
    <link rel="stylesheet" href="application-tracker.css">
    <link rel="stylesheet" href="table-renderer.css">
    <!-- Use ES module imports for Firebase and tracker logic -->
    <script type="module" src="../admin/application-tracker.js"></script>
</head>
<body>
    <div class="app-tracker-container">
        <button id="showStatsModalBtn" style="float:right;margin-bottom:8px;">Show Stats & Charts</button>
        <section id="appStats" style="margin-bottom: 18px;"></section>
    <div id="statsFilters" style="margin-bottom: 10px; display: flex; gap: 10px; align-items: center;"></div>
    <h1>Application Tracker</h1>
    <form id="appForm">
        <input type="url" id="offerLink" placeholder="Offer Link">
        <input type="text" id="company" placeholder="Company">
        <input type="text" id="field" placeholder="Field (Finance, IT, etc.)">
        <input list="countryList" id="country" placeholder="Country">
        <datalist id="countryList">
            <option value="France">
            <option value="Germany">
            <option value="United Kingdom">
            <option value="Spain">
            <option value="Italy">
            <option value="Netherlands">
            <option value="Belgium">
            <option value="Switzerland">
            <option value="United States">
            <option value="Canada">
            <option value="India">
            <option value="Singapore">
            <option value="Australia">
            <option value="Other">
        </datalist>
        <input type="text" id="cvVersion" placeholder="CV Version Sent">
        <input list="wayList" type="text" id="wayOfApplication" placeholder="Way of Application">
        <datalist id="wayList">
            <option value="direct web">
            <option value="LinkedIn">
            <option value="email">
            <option value="referral">
            <option value="other">
        </datalist>
        <input list="statusList" type="text" id="status" placeholder="Status" value="transmitted">
        <datalist id="statusList">
            <option value="transmitted">
            <option value="in review">
            <option value="interview">
            <option value="technical test">
            <option value="HR interview">
            <option value="manager interview">
            <option value="offer">
            <option value="rejected">
            <option value="withdrawn">
            <option value="hired">
            <option value="ghosted">
            <option value="waiting for feedback">
            <option value="other">
        </datalist>
        <input type="text" id="date" placeholder="Date (ddmmyy)">
        <button type="submit">Add Application</button>
    </form>
    <div id="dynamicColumns"></div>
        <div id="appTableContainer"></div>
        <div style="margin-top:12px;text-align:right;">
            <button id="saveTableBtn" style="background:#1976d2;color:#fff;border:none;padding:8px 20px;border-radius:4px;cursor:pointer;font-size:1em;">Save Changes</button>
        </div>
  </div>
</body>
</html>
